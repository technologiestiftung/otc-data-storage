# Migration `20200925115803-add-recordings-again`

This migration has been generated by fabianmoronzirfas at 9/25/2020, 1:58:03 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Recording" ADD COLUMN "cameraId" integer

ALTER TABLE "public"."Recording" ADD FOREIGN KEY ("cameraId")REFERENCES "public"."Camera"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200925115654-recordings..20200925115803-add-recordings-again
--- datamodel.dml
+++ datamodel.dml
@@ -2,14 +2,14 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 // datasource db {
 //   provider = "sqlite"
-//   url = "***"
+//   url = "***"
 // }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -40,8 +40,9 @@
   trajectories         Trajectory[]
   weathers             Weather[]
   lightningConditions  LightningCondition[]
   // Counter              Counter[]
+  recordings           Recording[]
 }
 model Recording {
   id             Int       @default(autoincrement()) @id
@@ -49,8 +50,10 @@
   recordingStart DateTime
   recordingEnd   DateTime
   counters       Counter[]
+  Camera   Camera? @relation(fields: [cameraId], references: [id])
+  cameraId Int?
 }
 // Counter should be equivalent to Counter
 // https://opendatacam.github.io/opendatacam/apidoc/#api-Counter
```
